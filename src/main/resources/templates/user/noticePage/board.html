<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.com">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>공지페이지</title>
    <link rel="stylesheet" type="text/css" href="/css/notice.css" />
    <link rel="stylesheet" type="text/css" href="/css/reset.css" />
    <script src="https://kit.fontawesome.com/f9358a6ceb.js" crossorigin="anonymous"></script>
    <script src="http://code.jquery.com/jquery-1.11.2.min.js"></script>
</head>

<body>
    <div class="container">
        <aside th:replace="~{frag/user/user_sidebar :: userSidebar }" class="sidebar"></aside>
        <main class="bodyContainer">
            <div th:replace="~{frag/user/user_menubar :: userMenubar }" class="menubar"></div>
            <div class="contents">
                <div id="contents_box">
                    <div class="notice_title">
                        <p>공지사항</p>
                    </div>
                    <div class="notice-container">
                        <th:block th:each="board : ${boards}">
                            <div class="dropdown">
                                <button class="dropbtn">
                                    <div class="notice_date" th:text="${board.board_date}"></div>
                                    <div class="drop_title">
                                        <div class="notice_content" th:text="${board.board_title}"></div>
                                        <div class="dropbtn_click" id="dropbtn_click">▼</div>
                                    </div>
                                </button>
                                <div class="dropdown_content show" th:text="${board.board_contents}"></div>
                            </div>
                        </th:block>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <script>
        const dropbtn_click = document.querySelectorAll(".dropbtn_click");
        const dropdown_content = document.querySelectorAll(".dropdown_content");

        for (let i = 0; i < dropbtn_click.length; i++) {
            dropbtn_click[i].addEventListener("click", () => {
                dropdown_content[i].classList.toggle('show');
            })
        }


        for (let i = 0; i < dropbtn_click.length; i++) {
            dropbtn_click[i].addEventListener("click", () => {

                if (dropbtn_click[i].innerHTML == "▼") {
                    dropbtn_click[i].innerHTML = "▲";
                } else if (dropbtn_click[i].innerHTML == "▲") {
                    dropbtn_click[i].innerHTML = "▼";
                }
            })
        }

    </script>
</body>

</html>